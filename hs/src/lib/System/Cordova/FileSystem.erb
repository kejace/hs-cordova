<%
dirs = %w{
  applicationDirectory
  applicationStorageDirectory
  dataDirectory
  cacheDirectory
  externalApplicationStorageDirectory
  externalDataDirectory
  externalCacheDirectory
  externalRootDirectory
  tempDirectory
  syncedDataDirectory
  documentsDirectory
  sharedDirectory
}
%>
module System.Cordova.FileSystem
( <%= dirs.join(', ') %>
, Storage(..)
, FileErrorCode(..)
) where

import GHCJS.Types (JSRef)
import System.Cordova.Internal
import System.IO.Unsafe (unsafePerformIO)

import System.Cordova.FileSystem.Storage
import System.Cordova.FileSystem.FileErrorCode

<%=
lines = []
dirs.each do |dir|
  lines << "foreign import javascript unsafe \"cordova.file.#{dir}\" js_#{dir} :: JSRef (Maybe String)"
  lines << "#{dir} :: Maybe String"
  lines << "#{dir} = unsafePerformIO $ fromRefMaybe js_#{dir}"
  lines << ''
end
lines.join("\n")
%>
