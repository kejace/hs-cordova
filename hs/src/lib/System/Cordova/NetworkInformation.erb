<%
require File.expand_path(File.dirname(__FILE__) + '/../../../../rb/data.rb')
%>
module System.Cordova.NetworkInformation
( Connection(..)
, connectionType
) where

import GHCJS.Types
import GHCJS.Marshal
import Data.Maybe (fromMaybe)
<%= hsImports %>

foreign import javascript unsafe
  "navigator.connection.type"
  js_connectionType :: IO (JSRef Connection)

connectionType :: IO Connection
connectionType = js_connectionType >>= fmap (fromMaybe Unknown) . fromJSRef

<%= makeEnum('Connection', [
  'Unknown',
  'Ethernet',
  'Wifi',
  Tag.new('Cell2G', 'CELL_2G'),
  Tag.new('Cell3G', 'CELL_3G'),
  Tag.new('Cell4G', 'CELL_4G'),
  'Cell',
  'None',
], 'Connection.') %>
