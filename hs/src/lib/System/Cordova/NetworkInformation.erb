<%
require File.expand_path(File.dirname(__FILE__) + '/../../../../rb/data.rb')
%>
module System.Cordova.NetworkInformation
( Connection(..)
, connectionType
, offlineEvent
, onlineEvent
) where

import System.Cordova.EventListener
<%= hsImports %>

<%= jsImport('connectionType', 'navigator.connection.type', [], 'Connection') %>

<%= makeEnum('Connection', [
  'Unknown',
  'Ethernet',
  'Wifi',
  Tag.new('Cell2G', 'CELL_2G'),
  Tag.new('Cell3G', 'CELL_3G'),
  Tag.new('Cell4G', 'CELL_4G'),
  'Cell',
  'None',
], exprPrefix: 'Connection.') %>

offlineEvent :: IO () -> IO (IO ())
offlineEvent f = addEventListener_ "offline" f document

onlineEvent :: IO () -> IO (IO ())
onlineEvent f = addEventListener_ "online" f document
